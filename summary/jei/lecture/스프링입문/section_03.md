## SECTION 03 _ 회원 관리 예제 - 백엔드 개발

### 비즈니스 요구사항 정리

* 일반적인 웹 애플리케이션 계층 구조

    - 컨트롤러: 웹 MVC의 컨트롤러 역할
    - 서비스: 핵심 비즈니스 로직 구현
    - 리포지토리: 데이터베이스에 접근, 도메인 객체를 DB에 저장하고 관리
    - 도메인: 비즈니스 도메인 객체, 예) 회원, 주문, 쿠폰 등등 주로 데이터베이스에 저장하고 관리됨

### 회원 도메인과 리포지토리 만들기

* 회원 객체(domain)
    - Member 클래스 생성
        - id, name 변수 및 게터세터

* 회원 리포지토리 인터페이스(repository)
    - MemberRepository 클래스 생성
        - save, findById, findByName, findAll 메서드 선언

* 회원 리포지토리 메모리 구현체(repository)
    - MemoryMemberRepository 클래스 생성
        - save, findById, findByName, findAll 메서드 구현

### 회원 리포지토리 테스트 케이스 작성

- 개발한 기능을 실행해서 테스트 할 때 자바의 main 메서드를 통해서 실행하거나, 웹 애플리케이션의 컨트롤러를 통해서 해당 기능을 실행
    - -> 오래 걸리고, 반복 실행하기 어렵고 여러 테스트를 한번에 실행하기 어렵다는 단점
    - ->  JUnit이라는 프레임워크로 테스트를 실행해서 이러한 문제를 해결

    * AfterEach : 한번에 여러 테스트를 실행하면 메모리 DB에 직전 테스트의 결과가 남을 수 있다. 이렇게 되면 다음 이전 테스트 때문에 다음 테스트가 실패할 가능성이 있다. @AfterEach 를 사용하면 각 테스트가 종료될 때 마다 이 기능을 실행한다. 여기서는 메모리 DB에 저장된 데이터를 삭제

### 회원 서비스 개발

* 회원 서비스(service)
    - MemberService 클래스 생성
        - join, findMembers, findOne 메서드 구현

### 회원 서비스 테스트

- 회원 리포지토리의 코드가 회원 서비스 코드를 DI 가능하게 변경
(서비스에서 생성하지 않고 생성자로 주입받도록 코드 변경)

* @BeforeEach : 각 테스트 실행 전에 호출된다. 테스트가 서로 영향이 없도록 항상 새로운 객체를 생성하고, 의존관계도 새로 맺어준다.