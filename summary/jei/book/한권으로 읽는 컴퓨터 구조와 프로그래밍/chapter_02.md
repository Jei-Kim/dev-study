# Chapter_02. 전자 회로의 조합 논리

## 디지털 컴퓨터의 사례

- 근대의 톱니바퀴를 사용한 기계적인 계산 장치: 안티키테라, 화기 제어 컴퓨터
    -> 다이얼을 조정하거나 톱니바퀴를 사용해 삼각함수와 미적분을 계산

- 이후 톱니바퀴를 사용하지 않는 기계식 컴퓨터 '계산자'가 발명됨
    - 로그 눈금이 새겨진 고정부 x, 이동부 y를 활용해 두 수의 곱을 계산
    - 현재까지도 비행기 조종사들은 '비행 컴퓨터'라는 계산자 사용

- 역사적으로 계산장치의 주된 목적은 계수(숫자를 세는 행위)
    - 탤리 막대, 호루스의 눈(이론), 차분 기관(10진 기계식 계산기)의 순서로 발전
    - 중반 회계와 장부 기록에 쓰이는 기계는 1600년대에 발명됨

- 역사적인 예제는 모두 두 가지 부류로 분류됨 -> 다음 절에 이어짐

* 아날로그와 디지털의 차이
    - 계산자는 연속적(실수를 자릿수 제한 없이 표현) -> 아날로그
    - 손가락은 이산적(하나하나 다른 존재로 구분됨) -> 디지털

* 하드웨어에서 크기가 중요한 이유
    - 컴퓨터는 전자를 움직여 기능을 수해으 전기는 빛의 속도(초당 3억미터)로 움직임
        - 전자의 여행 시간을 최소화하는 방법은 부품을 가능한 가깝게 위치 시키는 것
    -> 컴퓨터에서 모든 것을 작게 만듦으로써 더 높은 성능을 달성할 수 있음

* 디지털을 사용하면 더 안정적인 장치를 만들 수 있다
    - 하드웨어를 작게 만들면 속도와 효율 상승 but 서로 간섭하기 쉬워지는 단점 발생
        -> 외부의 간섭, 내부의 cpu 누화 효과를 방지할 방법? -> 더 높은 판정 기준을 통해 잡음 내성을 갖는 디지털 회로 사용
        *** 안정성 확보되나 양자역학이 적용되는 것들을 제외하면, 모두 아날로그(연속적)에 머문다는 한계

* 아날로그 세계에서 디지털 만들기
    - 전이함수: 실세계의 현상을 표현하는 함수
        ex. 카메라 센서나 필름의 전이 함수 그래프, 스피커 구동 증폭 회로(책 참고)
    - 게인(gain)이 고정된 특별한 증폭기를 사용, 왜곡을 조정하여 연속적인 공간을 이상적인 공간으로 나누어 주는 방법
    -> 아날로그는 선형 영역을 크게 만들기 위해 노력하는 것, 디지털은 직선부를 가능한 작게 만드는 것으로 이해

* 10진 숫자 대신 비트를 사용하는 이유
    - 효율성
        - 숫자 하나보다는 10비트를 사용해 문턱값을 구현하는 것이 더 효율적임 -> 현대적 하드웨어의 작동 방식
        - 전이함수의 하단부(차단)와 상단부(포화)를 활용

## 간단한 전기 이론 가이드

* 전기는 수도 배관과 유사하다
    - 게이트 밸브: 0은 닫힘, 1은 열림을 표현
    - 직렬연결: 하나의 밸브의 출력이 다른 밸브의 입력과 연결 -> AND연산 수행
    - 병렬연결: 두 밸브의 입력을 한 관에 함께 연결, 출력을 다른 관에 함께 연결 -> OR연산 수행
    - 전파지연: 밸브를 돌려 원하는 물의 온도가 나올 때까지 걸리는 시간으로 이해

    * 용어정리
        - 도체: 전기 선의 내부, 전자로 구성됨
        - 부도체: 전기 선의 근속 바깥쪽을 둘러싼 부분
        - 스위치: 전기의 흐름을 제어하는 밸브
        - 전압: 전기의 압력
        - 볼트: 전기의 측정단위
        - 전류: 전기 흐름의 양 -> 측정 단위는 암페어
        - 관이 가늘수록 저항이 커짐, 저항(R)의 측정 단위는 옴
        ** 옴의 법칙 : 전류 = 전압을 저항으로 나눈 값

* 전기 스위치
- 전기 시스템은 회로라고 부르며(에너지 근원에서 나온 전기는 회로 구성요소를 지나 다시 근원으로 돌아가기 때문)
    -> 스키매틱(계통도, 회로도)를 통해 문서화함
- 전기는 스위치 on/off의 단순한 작동으로 이해, 컴퓨터에서 어떻게 복잡한 기능을 수행하는지 다음절에서 이어짐

## 비트를 처리하기 위한 하드웨어

* 릴레이
- 스위치를 움직이기 위해 전자석을 사용하는 장치
    - 코일에 전력이 들어가지 않을 때 스위치가 열려 있으면 '평상시 열린 릴레이', 닫혀 있으면 '평상시 닫힌 릴레이'
- 스위치로는 불가능했던 NOT함수를 구현하는 인버터를 만들 수 있음
    - AND회로에서 나온 출력을 OR 회로의 입력 중 하나를 구동하기 위해 연결 -> 스위치가 다른 스위치 제어 -> 컴퓨터에 필요한 복잡한 논리 만들 수 있음
- 릴레이는 느리고 전기를 많이 소모, 먼지 또는 벌레가 스위치 점점에 있으면 제대로 작동하지 않음
    (릴레이에 낀 나방을 발견하면서 버그라는 단어가 유명해짐 -> 시스템의 오류를 뜻하는 용어로 널리 쓰임)
    c.f. 이전에도 쓰였으나, 대중화되었다고 이해

* 진공관
    - 열전자 방출: 물체를 충분히 가열하면 전자가 튀어나옴, 진공관 발명의 기반이 된 현상
    - 캐소드(야구 투수 역할), 히터(가열), 애노드(포수 역할)로 구성됨
        - 그리드: 캐소드에서 나오는 전자를 쫓아내 애노드에 도착하지 못하게 만듦(타자 역할)
    - 삼극관(트라이오드): 캐소드, 그리드, 애노드 세 가지 요소가 들어있느 진공관
    - 릴레이보다 빠름 but 뜨겁고 깨지기 쉬움
    - 이전보다 빠르고 안정적인 컴퓨터 구성이 가능해짐

* 트랜지스터
    - 전송 저항(transfer resistor)이라는 말을 줄여 트랜지스터(transistor)
    - 진공관과 유사하나 반도체(도체와 부도체 사이를 오갈 수 있는 물질를 사용
    - 트랜지스터를 작게 만들 수 있음 but 도체가 가늘어지면 저항이 늘어나 열이 발생
        -> 반도체는 쉽게 녹는 특성, 트랜지스터에서 열을 제거하는 일 중요
    - 트랜지스터 그림을 실리콘 웨이퍼 위에 투영, 현상하는 광식각이라는 과정을 통해 생산
    - 유형: 쌍극 접합 트랜지스터, 필드 효과 트랜지스터

    * 금속산화물 반도체 전계 효과 트랜지스터(mosfet): FET의 일종, 전력 소모가 적어 현대 컴퓨터 칩에서 가장 널리 쓰임

* 직접 회로
    - 트랜지스터를 사용하여 작고 빠르고 신뢰가능하고 전력소모량도 적은 논리 회로를 만들 수 있음
        but 간단한 회로에도 부품이 많이 필요
    -> 잭 킬비와 로버트 노이스(인텔 공동 설립자)가 직접 회로 발명, 칩으로 불림
    - 복잡한 시스템을 트랜지스터 하나를 만드는 정도의 비용으로 만들 수 있음

## 논리 게이트

- 직접 회로(IC) 패밀리: 칩에 논리 연산을 수행하는 회로가 미리 들어가 있음
    -> 논리 게이트 혹은 게이트라고 불림
***게이트 스키매틱 그림은 책 참고해서 이해

* 이력 현상을 활용한 잡음 내성 향상
    - 잡음으로 인해 입력 신호가 문턱값을 오락가락 할 경우, 출력 신호에 글리치(작은 오류) 발생
        -> 이력현상으로 해결 가능
    - 이력현상: 판정 기준이 과거 이력에 따라 달라지는 것
    - 슈미트 게이트: 이력을 사용하는 게이트

* 차동 신호
    - 측정하는 값이 서로 반전관계인 신호 쌍의 차이를 측정
    - 드라이버: 입력 신호를 반전관계 출력들로 변환
    - 리시버: 반전관계인 두 입력을 받아 단일 신호를 만들어 줌
    - 전화선 등 여러 곳에서 차동 신호 사용(for 잡음방지)

* 전파 지연
    - 입력의 변화가 출력에 영향을 미칠 때까지 걸리는 시간
    - 회로 설계자들은 전파 지연이 최대치인 최악의 경우를 고려해 설계해야 함

* 출력 유형
    - 토템플: 일반적인 게이트 출력 -> 액티브 풀업, 빠름, 출력을 서로 연결할 수 없음
    - 오픈 컬렉터 출력: = 오픈 드레인 -> LED에 활용, 출력을 서로 연결 가능하지만 액티브 풀업보다 응답이 빠르지 않음
    - 트라이스테이트 출력: 상태가 세 가지인 출력 -> 수많은 장치를 서로 선으로 직접 연결 가능, 한 번에 하나의 장치만 활성화해야 하는 단점 존재

## 게이트를 조합한 복잡한 회로

- 소규모 직접 회로 ~ 초대규모 직접회로

* 가산기
    - 리플 자리올림 가산기: 비트 처리 시 출력 지연 발생
        -> 올림 예측 가산기로 지연 제거

* 디코더
    - 인코딩된 수를 개별 비트의 집합으로 만들어 줌
    - 디스플레이 제어에 응용

* 디멀티플렉서
    - 디코더를 사용해 만듦, 디먹스라고 칭함
    - 입력을 몇 가지 출력 중 한 곳으로 전달

* 셀렉터
    - 게이트를 사용해 여러 입력 중 하나를 선택할 수 있는 셀렉터, 멀티플렉서(먹스)를 만듦
        ex. 토스터기





