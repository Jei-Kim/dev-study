# Chapter06 - 입출력과 네트워킹 - 컴퓨터는 외부와 어떻게 상호작용하는가

    - 샘플링 : 실제 세계의 아날로그 데이터를 컴퓨터가 쓸 수 있는 디지털 형태로 바꾸거나, 역방향으로 바꾸는 것

## 저수준 I/O

    - 가장 단순한 I/O는 CPU가 읽거나 쓸 수 있는 비트에 물건을 연결한 형태의 I/O

    - DDRB : 데이터 방향 레지스터, 각 핀을 입력으로 쓸지 출력으로 쓸지 결정

    - PORTB : 출력 데이털르 저장하는 래치

    - PINB : 핀의 값을 읽음

## 버튼을 눌러라

    - 버튼에 연결된 금속 조각이 접점에 닿으면 금속 조각이 아주 잠깐 되튕겨지면서(바운스) 접점에서 떨어짐

    - 한 번 눌렀는데 인터럽트가 여러 번 발생할 수있으므로 디바운스 할 필요가 있음

## 빛이 있으라

    - 각 디스플레이를 별도의 I/O 포트에 연결할 수 있지만, 프로세서가 충분한 수의 포트를 제공하지 못하는 경우가 흔함

    - 해법은 디스플레이의 애노드를 포트 A에 연결하고 캐소드를 B에 연결해서 디스플레이를 멀티플렉스 하는 것

    - 디스플레이가 작동하기 위해 사람의 시각의 잔상효과를 활용
        - 짧은 간격으로 깜빡거리는 경우, 빛이 켜져 있는 것으로 인식

## 빛, 동작, 그리고 상호 연동

    - 어떤 장치에 버튼과 디스플레이가 함께 있는 경우, 버튼과 디스플레이의 입력을 멀티플렉싱하면 핀을 덜 써도 됨

## 밝기 조절

    - 디스플레이의 듀티 사이클을 조절함으로서 밝기를 조절

## 그레이의 2^n가지 그림자

    - 회전축에 스위치를 넣거나 광센서가 읽을 수 있는 검은색과 흰색 점을 사용해 위치를 알아낼 수 있음

    - 어떤 방법을 택하든 축의 위치를 2진수로 인코딩

    - 제대로 그려진 인코더를 사용한다고 해도 여전히 회로가 각 비트를 읽으면서 발생하는 전파 지연으로 인한 문제가 생김

    - 그레이 코드 : 각도가 달라질 때 비트가 하나씩만 달라지는 인코딩 방법

## 쿼드러처
    
    - 어떤 대상의 절대적 위치를 알 필요는 없지만 위치가 변했는지와 어떤 방향으로 변했는지를 알 필요가 있는 경우에 사용

    - 네 가지 상태가 존재하기 때문에 쿼드러처 인코딩이라고 불림

## 병렬 통신

    - LED를 켜는 회로를 확장

    - LED 컴포넌트 하나하나마다 별도의 선이 있기 때문에 동시에 모든 컴포넌트를 제어

## 직렬 통신

    - 전송할 데이터는 직렬 프로토콜을 통해 신호선 하나로 전달되며, 돌아오는 선이 하나 더 필요

    - 아무일도 일어나지 않았을 때 1 (= 하이 상태 = 마크), 로우(= 스페이스)

    - 반이중 통신 : 송신자와 수신자가 같은 선을 공유
        - 한쪽만 말할 수 있고, 둘이 동시에 말하면 의미가 통하지 않는 메시지가 생김

        - 충돌 : 둘 이상의 송신자가 메시지를 보내려고 시도해서 데이터가 혼신되는 경우

## 파동에 올라타라

    - 마크-스페이스 방식은 장거리 통신에 부적합

    - 반송파 : 우리가 사용할 파동 ( = 캐리어)

    - 변조 : 전달하려는 신호를 바탕으로 반송파를 마크-스페이스 파형으로 변화시킴

    - 복조 : 받는 쪽에서 파장을 다시 마크-스페이스 파형으로 되돌림

    - 모뎀 : 변조와 복조를 수행하는 장치

## 범용 직렬 버스

    - 범용 직렬 버스 = USB(Universal Serial Bus)

    - USB로 연결되는 시스템은 모든 종단점을 담당하는 컨트롤러가 존재

    - USB는 데이터를 패킷으로 전송
    
    - 패킷에는 헤더와 페이로드가 들어있고 헤더는 기본적으로 패킷의 바깥에서 찾을 수 있는 정보

