# Chapter06 - 입출력과 네트워킹 - 컴퓨터는 외부와 어떻게 상호작용하는가

    - 샘플링 : 실제 세계의 아날로그 데이터를 컴퓨터가 쓸 수 있는 디지털 형태로 바꾸거나, 역방향으로 바꾸는 것

# 저수준 I/O

    - 가장 단순한 I/O는 CPU가 읽거나 쓸 수 있는 비트에 물건을 연결한 형태의 I/O

    - DDRB : 데이터 방향 레지스터, 각 핀을 입력으로 쓸지 출력으로 쓸지 결정

    - PORTB : 출력 데이털르 저장하는 래치

    - PINB : 핀의 값을 읽음

## 버튼을 눌러라

    - 버튼에 연결된 금속 조각이 접점에 닿으면 금속 조각이 아주 잠깐 되튕겨지면서(바운스) 접점에서 떨어짐

    - 한 번 눌렀는데 인터럽트가 여러 번 발생할 수있으므로 디바운스 할 필요가 있음

## 빛이 있으라

    - 각 디스플레이를 별도의 I/O 포트에 연결할 수 있지만, 프로세서가 충분한 수의 포트를 제공하지 못하는 경우가 흔함

    - 해법은 디스플레이의 애노드를 포트 A에 연결하고 캐소드를 B에 연결해서 디스플레이를 멀티플렉스 하는 것

    - 디스플레이가 작동하기 위해 사람의 시각의 잔상효과를 활용
        - 짧은 간격으로 깜빡거리는 경우, 빛이 켜져 있는 것으로 인식

## 빛, 동작, 그리고 상호 연동

    - 어떤 장치에 버튼과 디스플레이가 함께 있는 경우, 버튼과 디스플레이의 입력을 멀티플렉싱하면 핀을 덜 써도 됨

## 밝기 조절

    - 디스플레이의 듀티 사이클을 조절함으로서 밝기를 조절

## 그레이의 2^n가지 그림자

    - 회전축에 스위치를 넣거나 광센서가 읽을 수 있는 검은색과 흰색 점을 사용해 위치를 알아낼 수 있음

    - 어떤 방법을 택하든 축의 위치를 2진수로 인코딩

    - 제대로 그려진 인코더를 사용한다고 해도 여전히 회로가 각 비트를 읽으면서 발생하는 전파 지연으로 인한 문제가 생김

    - 그레이 코드 : 각도가 달라질 때 비트가 하나씩만 달라지는 인코딩 방법

## 쿼드러처
    
    - 어떤 대상의 절대적 위치를 알 필요는 없지만 위치가 변했는지와 어떤 방향으로 변했는지를 알 필요가 있는 경우에 사용

    - 네 가지 상태가 존재하기 때문에 쿼드러처 인코딩이라고 불림

## 병렬 통신

    - LED를 켜는 회로를 확장

    - LED 컴포넌트 하나하나마다 별도의 선이 있기 때문에 동시에 모든 컴포넌트를 제어

## 직렬 통신

    - 전송할 데이터는 직렬 프로토콜을 통해 신호선 하나로 전달되며, 돌아오는 선이 하나 더 필요

    - 아무일도 일어나지 않았을 때 1 (= 하이 상태 = 마크), 로우(= 스페이스)

    - 반이중 통신 : 송신자와 수신자가 같은 선을 공유
        - 한쪽만 말할 수 있고, 둘이 동시에 말하면 의미가 통하지 않는 메시지가 생김

        - 충돌 : 둘 이상의 송신자가 메시지를 보내려고 시도해서 데이터가 혼신되는 경우

## 파동에 올라타라

    - 마크-스페이스 방식은 장거리 통신에 부적합

    - 반송파 : 우리가 사용할 파동 ( = 캐리어)

    - 변조 : 전달하려는 신호를 바탕으로 반송파를 마크-스페이스 파형으로 변화시킴

    - 복조 : 받는 쪽에서 파장을 다시 마크-스페이스 파형으로 되돌림

    - 모뎀 : 변조와 복조를 수행하는 장치

## 범용 직렬 버스

    - 범용 직렬 버스 = USB(Universal Serial Bus)

    - USB로 연결되는 시스템은 모든 종단점을 담당하는 컨트롤러가 존재

    - USB는 데이터를 패킷으로 전송
    
    - 패킷에는 헤더와 페이로드가 들어있고 헤더는 기본적으로 패킷의 바깥에서 찾을 수 있는 정보

# 네트워킹

    - 네트워크는 일반적으로 두 가지로 구분
        - 근거리 네트워크(LAN) : 집이나 사무실같이 좁은 지리적 영역을 묶음
        - 광역 네트워크(WAN) : 더 넓은 지리적 영역을 묶음

    - 최초의 네트워크는 전신 네트워크

    - 인터넷 : 네트워크와 네트워크의 사이 라는 뜻 즉, 네트워크들로 이루어진 네트워크 (LAN을 하나로 연결해주는 WAN)

## 최근의 LAN들

    - 이더넷 : LAN 방식

    - 최초의 이더넷은 반이중 시스템

    - 모든 장치가 같은 선에 연결

    - 각 장치의 네트워크 인터페이스에는 MAC(Media Access Control)주소라는 유일한 48비트 주소가 부여(현재도 쓰임)되며, 데이터는 프레임이라는 패킷으로 구성됨

    - 프레임의 MAC 주소가 다르면 무시

    - 요즘 방식은 반이중 방식이 아니라 라우터에 연결 (라우터는 어떤 장치가 어떤 선에 연결되어 있는지를 기억하고 패킷을 전달)

## 인터넷

    - 인터넷은 여러 계층으로 이루어진 프로토콜의 집합

    - TCP/IP : 전송 제어 프로토콜/인터넷 프로토콜 (인터넷이 사용하는 두 가지 프로토콜)

        - IP는 패킷을 한 곳에서 다른 곳으로 옮겨주며, 패킷을 데이터그램이라고 부름

        - TCP는 IP 위에 만들어지며 패킷이 제대로 배달됐는지를 보장해줌 

    - IP 주소

        - 인터넷상의 각 컴퓨터에는 IP주소라는 유일한 주소가 할당

        - MAC 주소와 달리 IP 주소는 하드웨어에 묶여 있지 않아서 변경 가능

        - IP 주소 시스템은 계층적인 시스템으로, 주소 중 일부분(주소 블록)을 누군가에게 할당하면, 그 누군가는 다시 자신에게 할당된 주소 중 일부 블록을 다른 누군가에게 할당하는 식으로 이루어짐

        - 인터넷은 대부분 IPv4 (IP 버전 4)에서 이루어지며, IPv4는 32비트 주소를 사용하고 옥텟 표기를 통해 표현

        - IP를 할당받는 기기들이 많아지면서 128비트 주소를 사용하는 IPv6쪽으로 바뀌는 중

    - 도메인 이름 시스템

        - 도메인 이름 시스템 (= DNS) : 이름을 주소로 바꿔줌

    - 월드 와이드 웹

        - TCP/IP 위에 만들어진 여러 프로토콜 중 가장 많이 사용하는 프로토콜은 HTTP, HTTPS

        - HTTP 표준은 웹 브라우저가 웹 서버와 상호작용하는 방법을 정의

        - URL : 원하는 정보를 얻을 수 있도록 도메인의 이름과 정보를 찾을 위치 설명이 들어감

# 아날로그 처리 방법

    - 컴퓨터에서는 연속적인 대상을 저장할 방법이 없으므로 샘플링을 해야함

## 디지털을 아날로그로 변환

    - DA 변환기 (Digital to Analog converter)를 통해 디지털 숫자를 사용해 아날로그 전압을 만들어냄

    - 더 복잡한 파형을 만들기 위한 장치에는 데이터를 써넣기 위한 메모리가 들어있는 경우가 많음

    - 장치는 추가 회로를 통해 메모리에 있는 데이터를 읽으며, CPU가 수행하는 다른 작업과 무관하게 데이터를 일정한 비율로 읽어서 처리하기 위해 FIFO 설정을 만들어서 구현

    - FIFO 메모리와 관련한 두 가지 트리거
        - 높은 워터마크 : FIFO가 거의 꽉 찼을 때 인터럽트 발생
        - 낮은 워터마크 : FIFO가 거의 빈 상태일 때 인터럽트 발생

## 아날로그를 디지털로 변환

    - AD 변환기 (Analog to Digital convertor)를 통해 변환

    - 변환하기 위해서는 샘플링을 여러번 해야함 -> 샘플 앤드 홀드 회로를 사용해 아날로그 파형의 값을 잡아낼 수 있음

## 디지털 오디오

    - 일차원으로 샘플링을 하면 오디오를 더 디지털화할 수 있음
        -> 일정 시간 간격으로 신호의 진폭이나 높이를 측정

    - 오디오에는 많은 데이터가 들어가있음
        -> 데이터를 압축해서 공간을 적게 차지하면 좋음

    - 무손실 압축 : 원래의 데이터를 그대로 유지, 원래 데이터 크기를 원래 크기의 절반 정도밖에 못 줄여줌
    - 손실 압축 : 일부 세부 사항이 사라짐 ex) MP3, AAC, Ogg 등

## 디지털 이미지

    - 시각 이미지는 2차원 공간을 샘플링해야 하기 때문에 오디오보다 더 복잡

    - 디지털 이미지는 그림 요소 또는 픽셀로 이뤄진 직사각형 배열로 표현

    - 컬러 이미지에서 각 픽셀은 세 가지 색의 조합으로 표현 (픽셀은 8비트)

    - 컴퓨터는 가산 혼합 색 시스템을 사용해 색을 표현

    - 일반적인 이미지 압축 방법은 JPEG

## 비디오

    - 2차원 이미지를 일정한 시간 간격으로 샘플링한 시퀀스

    - 움직임 보상 : 변경된 영역의 데이터만 저장하거나 송신

# 휴먼 인터페이스 장치

## 터미널

    - 배치 프로세싱 : 컴퓨터 프로그램 흐름에 따라 순차적으로 자료를 처리하는 방식

    - 컴퓨터를 텔레타이프에 연결 -> 텔레타이프는 선의 끝에 연결됐기 때문에 터미널이라고 불림

    - 시분할 시스템에는 운영체제가 있으며 운영체제는 컴퓨터의 여러 자원을 각 사용자에게 배정 (스왑 인, 스왑 아웃을 통해)

    - 스레싱 : 스왑 인, 스왑 아웃하는데 소모하는 시간이 프로그램을 실행하는 시간보다 길어지는 현상

## 그래픽 터미널

    - 음극선관(CRT)이라는 진공관의 변형으로 만들어짐

    - CRT 유리 내부에는 인광물질이 발라져 있으며 전자가 부짖히면 발광

    - 오늘 날 CRT는 LCD로 대체

## 벡터 그래픽

    - CRT는 그래프를 그릴 수 있는 모눈종이처럼 작동

    - 벡터 그래픽은 선 또는 벡터로 그림을 그리는 방식

## 래스터 그래픽

    - 점으로 이뤄진 그래픽

## 키보드와 마우스

    - 키보드는 여러 스위치와 논리 회로를 묶음

    - 마우스는 쿼드러처 인코더를 사용해서 만듬